
import Swiper from 'swiper';
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';


export function initSwipers() {
  const swipers = [];
  const swiperContainers = document.querySelectorAll('.swiper-container');
  
  swiperContainers.forEach((container, index) => {
    const options = {
      
      loop: true,
      speed: 800,
      spaceBetween: 30,
      grabCursor: true,
      
      
      navigation: container.querySelector('.swiper-button-next') && container.querySelector('.swiper-button-prev') ? {
        nextEl: container.querySelector('.swiper-button-next'),
        prevEl: container.querySelector('.swiper-button-prev'),
      } : false,
      
     
      pagination: container.querySelector('.swiper-pagination') ? {
        el: container.querySelector('.swiper-pagination'),
        clickable: true,
        type: 'bullets',
      } : false,
      
    
      breakpoints: {
        320: {
          slidesPerView: 1,
          spaceBetween: 10
        },
        576: {
          slidesPerView: 2,
          spaceBetween: 15
        },
        992: {
          slidesPerView: 3,
          spaceBetween: 20
        },
        1200: {
          slidesPerView: 4,
          spaceBetween: 30
        }
      },
      
   
      autoplay: container.hasAttribute('data-autoplay') ? {
        delay: parseInt(container.getAttribute('data-autoplay-delay') || '3000', 10),
        disableOnInteraction: false,
        pauseOnMouseEnter: true
      } : false
    };
    
   r
    swipers[index] = new Swiper(container, options);
  });
  
  return swipers;
}


if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initSwipers);
} else {
  initSwipers();
}

export default Swiper;